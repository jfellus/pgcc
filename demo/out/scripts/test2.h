///////////////////////////////////////////////
// PGCC AUTO-GENERATED SCRIPT IMPLEMENTATION //
///////////////////////////////////////////////

/*
	This file was auto-generated by PGCC.
	You shouldn't edit anything in it.
*/


#ifndef __PG_SCRIPT_test2_H
#define __PG_SCRIPT_test2_H

//////////////
// INCLUDES //
//////////////

#include "../utils/sync_semaphores.h"
#include "/home/jfellus/workspace/pg_nav/src/Hog.h"
#include "/home/jfellus/workspace/pg_nav/src/VLAT.h"
#include "/home/jfellus/workspace/pg_nav/src/Camera.h"
#include "/home/jfellus/workspace/pg_nav/src/Codebook.h"


////////////////////////////////////
// IMPLEMENTATION OF SCRIPT test2 //
////////////////////////////////////

class Script_test2 {
public:
	Camera c;
	Hog hog;
	VLAT vlat;
	Codebook dico;
	DumpMatrix dumpvlat;



	Script_test2() {
		c.path = "/dev/video0";
		hog.step = 2;
		dico.D = 128;
		dico.K = 32;
	}

	void init() {
		c.init();
		dico.init();
		hog.init();
		vlat.init();
		dumpvlat.init();
	}


/////////////////
// THREADS (2) //
/////////////////

	void process_thread_0() {
		c.process();
		hog.process(c);
	}

	void process_thread_1() {
		dico.process();
		vlat.process(hog, dico);
		dumpvlat.process(vlat);
	}

};

#endif // __PG_SCRIPT_test2_H
